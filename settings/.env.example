# AutoTrainX API Environment Configuration
# Copy this file to .env and customize for your environment

# ==========================================
# APPLICATION SETTINGS
# ==========================================
ENVIRONMENT=production
VERSION=1.0.0
BUILD_DATE=2025-08-01T00:00:00Z
VCS_REF=main

# ==========================================
# API CONFIGURATION
# ==========================================
API_PORT=8000
API_WORKERS=1
LOG_LEVEL=info
SECRET_KEY=your-very-secure-secret-key-change-this-in-production
ALLOWED_HOSTS=*
CORS_ORIGINS=*

# ==========================================
# DATABASE SETTINGS
# ==========================================
DATABASE_URL=sqlite:///app/DB/executions.db
# For PostgreSQL: postgresql://user:password@host:port/database

# ==========================================
# TRAINING CONFIGURATION
# ==========================================
MAX_CONCURRENT_JOBS=1
WORKSPACE_PATH=/app/workspace
MODELS_PATH=/app/models
PRESETS_PATH=/app/Presets

# ==========================================
# EXTERNAL SERVICES
# ==========================================
# Redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ComfyUI Integration
COMFYUI_URL=http://comfyui:8188
COMFYUI_PORT=8188

# Google Sheets Integration (optional)
GOOGLE_CREDENTIALS_HOST_PATH=/path/to/google_credentials.json
SHEETS_SYNC_ENABLED=false

# ==========================================
# REVERSE PROXY (NGINX)
# ==========================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ==========================================
# MONITORING & OBSERVABILITY
# ==========================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=secure-grafana-password
LOKI_PORT=3100

# ==========================================
# SECURITY SETTINGS
# ==========================================
# SSL/TLS Configuration
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# Authentication (if implemented)
AUTH_ENABLED=false
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ==========================================
# RESOURCE LIMITS
# ==========================================
# Memory limits (in MB)
API_MEMORY_LIMIT=4096
REDIS_MEMORY_LIMIT=512
COMFYUI_MEMORY_LIMIT=8192

# CPU limits (cores)
API_CPU_LIMIT=2.0
COMFYUI_CPU_LIMIT=4.0

# ==========================================
# BACKUP & MAINTENANCE
# ==========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=autotrainx-backups
BACKUP_S3_REGION=us-east-1

# ==========================================
# DEVELOPMENT SETTINGS
# ==========================================
# Only used in development environment
DEV_RELOAD=true
DEV_DEBUG_PORT=5678
POSTGRES_DEV_PORT=5432
PGADMIN_PORT=8080
EOF < /dev/null
